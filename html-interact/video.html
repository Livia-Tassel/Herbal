<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/base.css">
    <link rel="stylesheet" href="../css/common.css">
    <title>草药仙踪</title>
    <style>
        .wrapper {
            position: relative;
            flex-direction: column;
        }

        .wrapper .back {
            width: 281px;
            height: 79px;
            display: flex;
            justify-content: space-between;
            position: absolute;
            left: 40px;
            top: 27px;
        }

        .back .return-button {
            width: 43px;
            height: 79px;
            background-image: url(../pic/pic-ink@2x.png);
            background-size: 43px 79px;
            background-repeat: no-repeat;
            text-align: center;
            font-size: 24px;
            color: #FFFFFF;
            line-height: 30px;
            padding: 10px 9px;
        }

        .back .text-box {
            width: 220px;
            height: 79px;
            display: flex;
            flex-direction: column;
        }

        .back .text-box h2 {
            width: 220px;
            height: 25px;
            padding-top: 6px;
            line-height: 19px;
            font-size: 18px;
            color: #8B5634;
            text-align: left;
        }

        .back .text-box h3 {
            width: 220px;
            height: 21px;
            font-size: 14px;
            color: rgba(42, 42, 42, 0.4);
            text-align: left;
            line-height: 15px;
            padding-bottom: 5px;
            border-bottom: 1.5px solid #8B5634;
            display: inline-block;
            box-sizing: border-box;
            margin-top: 16px;
        }

        .content {
            width: 917px;
            height: 620px;
            margin: 0 auto;
            margin-top: 130px;
            display: flex;
            flex-direction: column;
            z-index: 2;
            position: relative;
        }

        .img-herb {
            position: absolute;
            width: 247px;
            height: 399px;
            opacity: 0.17;
            background-image: url(../pic/soul/test/pic-herb.png);
            top: 0px;
            right: 0px;
            z-index: 1;
        }

        /* 包裹层：相对定位，方便内部绝对定位 */
        .video-box {
            position: relative;
            width: 917px;
            margin: 0 auto;
        }

        video {
            display: block;
            width: 100%;
            height: 100%;
            background: #000;
        }

        /* 控制层：默认透明，暂停时变黑 */
        .ctrl-layer {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0);
            transition: background .3s;
        }

        .ctrl-layer.paused {
            background: rgba(0, 0, 0, .55);
        }

        /* 中央按钮 */
        .center-btn {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%) scale(1);
            cursor: pointer;
            opacity: 0;
            transition: opacity .3s, transform .3s;
        }

        .ctrl-layer.paused .center-btn {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1.1);
        }

        .center-btn:hover {
            transform: translate(-50%, -50%) scale(1.2);
        }

        .center-btn .icon {
            width: 80px;
            height: 80px;
        }

        /* 自定义进度条 */
        .progress-bar {
            position: absolute;
            left: 0;
            bottom: 0;
            width: 100%;
            height: 6px;
            background: rgba(255, 255, 255, .25);
            cursor: pointer;
        }

        .progress-fill {
            height: 100%;
            width: 0;
            background: #8B5634;
            transition: width .1s;
        }

        .content h2 {
            width: 312px;
            height: 28px;
            font-size: 26px;
            color: #8B5634;
            text-align: left;
            margin-top: 30px;
        }

        .content h3 {
            width: 917px;
            font-size: 22px;
            color: #535151;
            line-height: 27px;
            text-align: left;
            margin-top: 14px;
        }
    </style>
</head>

<body>
    <div class="wrapper">
        <div class="img-herb"></div>
        <div class="back">
            <a href="./video-list.html">
                <div class="return-button">返回</div>
            </a>
            <div class="text-box">
                <h3>趣味互动</h3>
                <h2>视频咨讯</h2>
            </div>
        </div>
        <div class="content">
            <div class="video-box">
                <video id="herbVideo" src="../pic/interact/video/视频1-连翘.mp4" width="917"></video>
                <!-- 自定义控制层：黑色半透明遮罩 + 中央 SVG -->
                <div class="ctrl-layer paused" id="ctrlLayer">
                    <div class="center-btn" id="playPauseBtn">
                        <svg width="80" height="80" viewBox="0 0 80 80" fill="none">
                            <path
                                d="M40.0009 2.95996C19.6289 2.95996 2.96094 19.632 2.96094 40C2.96094 60.368 19.6289 77.04 40.0009 77.04C60.3729 77.04 77.0409 60.372 77.0409 40C77.0409 19.628 60.3689 2.95996 40.0009 2.95996ZM40.0009 73.952C21.3289 73.952 6.04894 58.672 6.04894 40C6.04894 21.328 21.3289 6.04796 40.0009 6.04796C58.6729 6.04796 73.9529 21.328 73.9529 40C73.9529 58.672 58.6729 73.952 40.0009 73.952Z"
                                fill="white" />
                            <path
                                d="M51.6193 34.7201L38.9993 26.4801C34.7393 23.6801 31.1113 25.5481 31.1113 30.6761V49.3161C31.1113 54.4441 34.5793 56.3081 38.9993 53.5121L51.6193 45.2801C55.8793 42.1721 55.8793 37.5121 51.6193 34.7121V34.7201Z"
                                fill="white" />
                        </svg>
                    </div>
                </div>
                <!-- 自定义进度条 -->
                <div class="progress-bar" id="progressBar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
            </div>
            <h2>连翘</h2>
            <h3>连翘为木犀科植物连翘的干燥果实，主产于我国北方地区。其性微寒，味苦，归肺、心、小肠经，具有清热解毒、消肿散结、疏散风热的功效，被誉为“疮家圣药”。常用于治疗风热感冒、温病初起、高热烦渴、痈疽瘰疬等症。
            </h3>
        </div>
    </div>
    <script>
        const v = document.getElementById('herbVideo');
        const box = document.getElementById('ctrlLayer');
        const btn = document.getElementById('playPauseBtn');
        const bar = document.getElementById('progressBar');
        const fill = document.getElementById('progressFill');

        /* 点击视频区域或中央按钮都可切换播放/暂停 */
        box.addEventListener('click', toggle);
        btn.addEventListener('click', toggle);

        function toggle(e) {
            e.stopPropagation();
            if (v.paused) { v.play(); } else { v.pause(); }
        }

        /* 状态变化时切换 UI 样式 */
        v.addEventListener('play', () => box.classList.remove('paused'));
        v.addEventListener('pause', () => box.classList.add('paused'));

        /* 进度条 */
        v.addEventListener('timeupdate', () => {
            fill.style.width = (v.currentTime / v.duration * 100).toFixed(2) + '%';
        });
        bar.addEventListener('click', e => {
            v.currentTime = e.offsetX / bar.offsetWidth * v.duration;
        });
    </script>
</body>

</html>